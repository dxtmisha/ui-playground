"use strict";var m=Object.defineProperty;var f=(h,t,e)=>t in h?m(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var n=(h,t,e)=>(f(h,typeof t!="symbol"?t+"":t,e),e);const u=require("vue"),a=require("./object-D6teWcGS.cjs"),c=require("./string-C-Ov7RqZ.cjs");class d{constructor(t={},e){this.components=t,this.modification=e}is(t){return t in this.components}get(t){var e;return(e=this.components)==null?void 0:e[t]}getModification(t,e){var s;if(t){const r=c.getRef((s=this.modification)==null?void 0:s[t]);if(r&&a.isObjectNotArray(r)){const i={};return a.forEach(r,(l,o)=>{i[o]=c.getRef(l)}),e&&Object.assign(i,e),i}}return e}render(t,e,s,r){const i=this.renderOne(t,e,s,r);return i?[i]:[]}renderOne(t,e,s,r){if(this.is(t)){const i=r??t;return c.render(this.get(t),this.getModification(i,e),s,i)}}renderAdd(t,e,s,r,i){return t.push(...this.render(e,s,r,i)),this}}class y{constructor(t,e,s){n(this,"name");n(this,"element",u.ref());n(this,"refs");n(this,"components");n(this,"emits");n(this,"classes");n(this,"classesSub");n(this,"styles");n(this,"stylesSub");n(this,"attrs");n(this,"slots");n(this,"data");n(this,"dataExpose");this.props=e,this.name=this.initName(t),this.refs=this.props?u.toRefs(this.props):{},this.components=new d(s==null?void 0:s.components,s==null?void 0:s.compMod),this.emits=s==null?void 0:s.emits,this.classes=s==null?void 0:s.classes,this.styles=s==null?void 0:s.styles,this.attrs=u.useAttrs(),this.slots=u.useSlots()}init(){return this.makeOptions(),this.classesSub=u.computed(()=>this.initClasses()),this.stylesSub=u.computed(()=>this.initStyles()),this.data={name:this.getName(),element:this.element,classes:u.computed(()=>this.updateClasses()),styles:u.computed(()=>this.updateStyles()),...this.initSetup()},this.dataExpose=this.initExpose(),this}getName(){return this.name.join("-")}getSubClass(t){return`${this.getName()}__${a.toArray(t).join("__")}`}getStatusClass(t){return`${this.getName()}--${a.toArray(t).join("--")}`}getStyle(t){return`--${this.getName()}-sys-${a.toArray(t).join("-")}`}getAttrs(){const t={...this.attrs??{}};return"class"in t&&delete t.class,"style"in t&&delete t.style,t}setup(){return this.data??{}}expose(){return this.dataExpose??{}}render(){return()=>this.initRender()}initSlot(t,e,s={}){var r;if(this.slots&&((r=this.slots)!=null&&r[t])&&typeof this.slots[t]=="function"){const i=this.slots[t](s);return e&&e.push(i),i}}toClassName(t){if(a.isObject(t)){const e={};return a.forEach(t,(s,r)=>{r.match(/\?\?/)?e[r.replace(/\?\?/,this.getName())]=s:r.match(/\?/)?e[r.replace(/\?/,this.name[0])]=s:e[r]=s}),e}return{}}initName(t){return a.forEach(t.split(".",2),e=>c.toCamelCase(e))}updateClasses(){var s,r;const t=(s=this.classesSub)==null?void 0:s.value,e=(r=this.classes)==null?void 0:r.value;return t&&e?{...t,...e,main:{...this.toClass(t==null?void 0:t.main),...this.toClass(e==null?void 0:e.main)}}:e??{main:{}}}updateStyles(){var s,r;const t=(s=this.stylesSub)==null?void 0:s.value,e=(r=this.styles)==null?void 0:r.value;return t&&e?{...t,...e}:e??{}}toClass(t){return a.isObjectNotArray(t)?t:Array.isArray(t)?{[t.filter(s=>typeof s=="string"&&s.trim()!=="").join(" ")]:!0}:typeof t=="string"?{[t]:!0}:{}}}exports.DesignConstructorAbstract=y;
