"use strict";var h=Object.defineProperty;var p=(o,t,e)=>t in o?h(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>(p(o,typeof t!="symbol"?t+"":t,e),e);const s=require("vue"),d=require("./object-D6teWcGS.cjs"),I=require("./DesignConstructorAbstract-CEByexyZ.cjs"),u=require("./MutationDataItem-65_7e-Te.cjs");class b{constructor(t,e){i(this,"mainElement",document.body);i(this,"componentName","div");i(this,"componentItem");i(this,"binds",s.shallowRef({}));i(this,"slots",s.shallowRef({}));var n;this.props=t,t.item&&(this.mainElement=t.item.getElement(),this.componentName=t.item.getComponentName(),this.componentItem=this.initComponentItem(),t.item.registration(e,()=>this.update())),(n=t.item)==null||n.setStatus(u.MutationStatus.end),this.update()}update(){var e,n;const t=(e=this.props.item)==null?void 0:e.getSlots();return this.binds.value={...((n=this.props.item)==null?void 0:n.getProps())??{}},this.slots.value=t?{...t}:void 0,this}initComponentItem(){var t;return((t=u.MutationGlobal.getComponentGlobalItem(this.componentName))==null?void 0:t.item)??s.resolveComponent(this.componentName)}}class g extends I.DesignConstructorAbstract{constructor(e,n,m){super(e,n,m);i(this,"mutation");this.mutation=new b(n,this.element),this.init()}makeOptions(){return this}initSetup(){return{mainElement:this.mutation.mainElement,componentName:this.mutation.componentName,componentItem:this.mutation.componentItem,binds:this.mutation.binds,slots:this.mutation.slots,renderSlots:s.computed(()=>this.renderSlots())}}initExpose(){return{}}initClasses(){return{main:{}}}initStyles(){return{}}initRender(){var n;const e=this.setup();if(e.componentItem)return s.h(s.Teleport,{ref:this.element,class:(n=this.classes)==null?void 0:n.value.main,to:e.mainElement},[s.h(e.componentItem,e.binds.value,e.renderSlots.value)])}renderSlots(){const e=this.setup(),n={},m=e.slots.value;return m&&d.forEach(m,(l,c)=>{const r=[];l.forEach(a=>{typeof a=="string"?r.push(a):r.push(s.h(a.tag,{...a.attributes}))}),n[c]=()=>r}),n}}const f={item:u.MutationDataItem};exports.MutationItemDesign=g;exports.propsMutationItem=f;
