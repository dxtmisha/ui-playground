"use strict";var d=Object.defineProperty;var p=(r,e,s)=>e in r?d(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var i=(r,e,s)=>(p(r,typeof e!="symbol"?e+"":e,s),s);const t=require("vue"),M=require("./DesignConstructorAbstract-CJBNoFHy.cjs"),u=require("./string-BsLl7qfq.cjs"),c=require("./number-DjaOC1Mo.cjs"),l={disabled:Boolean,counter:[String,Number],maxlength:[String,Number],helperMessage:String,validationMessage:String};class f{constructor(e){this.props=e}is(){return!!this.get()}isValidation(){var e;return u.isFilled((e=this.props)==null?void 0:e.validationMessage)}get(){var e;if(this.isValidation())return this.props.validationMessage;if(u.isFilled((e=this.props)==null?void 0:e.helperMessage))return this.props.helperMessage}}class C{constructor(e){this.props=e}is(){return this.getCounter()>0||this.isMax()}isMax(){return this.getMax()>0}get(){return this.isMax()?`${this.getCounter()} / ${this.getMax()}`:this.getCounter().toString()}getCounter(){var e;return c.toNumber(((e=this.props)==null?void 0:e.counter)??0)}getMax(){var e;return c.toNumber(((e=this.props)==null?void 0:e.maxlength)??0)}}class v{constructor(e){i(this,"message");i(this,"counter");this.props=e,this.message=new f(e),this.counter=new C(e)}is(){var e;return!((e=this.props)!=null&&e.disabled)&&(this.message.is()||this.counter.is())}classes(){return{"??--validation":this.message.isValidation()}}}class x{constructor(e){i(this,"item");i(this,"is",t.computed(()=>this.item.is()));i(this,"isMessage",t.computed(()=>this.item.message.is()));i(this,"isValidation",t.computed(()=>this.item.message.isValidation()));i(this,"isCounter",t.computed(()=>this.item.counter.is()));i(this,"isMax",t.computed(()=>this.item.counter.isMax()));i(this,"message",t.computed(()=>this.item.message.get()));i(this,"counter",t.computed(()=>this.item.counter.get()));i(this,"classes",t.computed(()=>this.item.classes()));this.item=new v(e)}}class b extends M.DesignConstructorAbstract{constructor(s,n,a){super(s,n,a);i(this,"message");i(this,"renderInfo",()=>{const s=this.setup();return t.h("div",{key:"message",class:s.classes.value.info,innerHTML:s.message.value})});i(this,"renderCounter",()=>{const s=this.setup();return t.h("div",{key:"counter",class:s.classes.value.counter,innerHTML:s.counter.value})});this.message=new x(n),this.init()}makeOptions(){return this}initSetup(){return{is:this.message.is,isMessage:this.message.isMessage,isValidation:this.message.isValidation,isCounter:this.message.isCounter,isMax:this.message.isMax,message:this.message.message,counter:this.message.counter,renderInfo:this.renderInfo,renderCounter:this.renderCounter}}initExpose(){return{}}initClasses(){return{main:{...this.toClassName(this.message.classes.value)},info:this.getSubClass("info"),counter:this.getSubClass("counter")}}initStyles(){return{}}initRender(){const s=this.setup(),n=[];if(s.isMessage.value&&n.push(s.renderInfo()),s.isCounter.value&&n.push(s.renderCounter()),s.is.value)return t.h("div",{...this.getAttrs(),ref:this.element,key:"main",class:s.classes.value.main},n)}}const F={...l},S=t.defineComponent({__name:"M3FieldMessage",props:{...F},setup(r,{expose:e,emit:s}){const n=s,a=r,g=t.computed(()=>({main:{"m3-fieldMessage":!0}})),h=t.computed(()=>({})),o=new b("m3.fieldMessage",a,{emits:n,classes:g,styles:h}),m=o.render();return e(o.expose()),(k,_)=>(t.openBlock(),t.createBlock(t.unref(m)))}});exports._sfc_main=S;exports.propsFieldMessage=l;
