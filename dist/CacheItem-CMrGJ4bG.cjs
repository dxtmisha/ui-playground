"use strict";var h=Object.defineProperty;var i=(c,s,t)=>s in c?h(c,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[s]=t;var e=(c,s,t)=>(i(c,typeof s!="symbol"?s+"":s,t),t);class n{constructor(s){e(this,"cache");e(this,"comparisons",[]);this.callback=s}getCache(s){return this.isUpdate(s)&&this.setCache(),this.cache}async getCacheAsync(s){return this.isUpdate(s)&&await this.setCacheAsync(),this.cache}setCache(){this.cache=this.callback()}async setCacheAsync(){this.cache=await this.callback()}isUpdate(s){return this.cache===void 0||this.comparisons.length!==s.length||this.comparisons.findIndex((t,a)=>t!==s[a])>=0?(this.comparisons=[...s],!0):!1}}exports.CacheItem=n;
